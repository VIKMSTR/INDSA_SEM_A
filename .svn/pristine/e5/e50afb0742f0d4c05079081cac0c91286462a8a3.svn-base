using System;
using System.Collections.Generic;
using System.Drawing;
using INDSA_Sem_A.Dijkstra;

namespace INDSA_Sem_A
{
    public class Program
    {
         static int Main()
         {

             #region Generator - Incomplete

             Graph g = new Graph();
             for (int i = 0; i < 10; i++)
             {
                 Generator.InsertRandomNode(g);
             }

             #endregion


             #region Inserting Test

             Node n = new Node(NodeType.BusStop, new Point(40, 40));
             g.AddNewNode(n);
             Node n2 = new Node(NodeType.Crossroads, new Point(80, 160));
             Node n3 = new Node(NodeType.RestingPlace, new Point(45, 45));
             g.AddNewNode(n2);
             g.AddNewNode(n3);
             g.AddNewEdge(n, n2);
             g.AddNewEdge(n, n3);
             g.AddNewEdge(n2, n3);

             g.GetAllNodes();
             Console.WriteLine(g.NumberOfElements());

             #endregion


             #region Priority Queue Test
             // priority queue test
             Dijkstra.PriorityQueue<double, string> priority;
             priority = new PriorityQueue<double, string>();

             foreach (Follower f in n.GetFollowers())
             {
                 double distance = 0.0;
                 string key;
               if(  f.GetFollowingNode(out key, out distance)){
                 priority.Add(new KeyValuePair<double, string>(distance,key));

               }
             }
             Console.WriteLine(priority.Dequeue().Key);

             foreach (Follower f in n3.GetFollowers())
             {
                 double distance = 0.0;
                 string key;
                 if (f.GetFollowingNode(out key, out distance))
                 {
                     priority.Add(new KeyValuePair<double, string>(distance, key));

                 }
             }
             Console.WriteLine(priority.Dequeue().Key); 
             //
             #endregion

             #region Deleting Node Test
             INode deletedNode = g.RemoveNode(n3.GetId());

             Console.WriteLine("Smazan vrchol : " + deletedNode.ToString() + "\n");

             g.GetAllNodes();

             #endregion

             Console.ReadLine();

             return 0;
         }
    }
}